<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Tee Box Bets</title>

<link rel="stylesheet" href="style.css">

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#041a13">
<link rel="apple-touch-icon" href="icons/icon-192.png">
</head>

<body>

<header>Tee Box Bets</header>

<main>

<!-- ================= HOME ================= -->

<section id="step-home">
<button onclick="goGameSelect()">Play</button>
<button onclick="showRules()">Rules</button>
<button onclick="show('round-setup')">Track a Round</button>
</section>

<!-- ================= PROFILE ================= -->

<section id="profile-setup" class="hidden">
<h2>Create Your Player Profile</h2>

<label>Your Name</label>
<input id="profileName" type="text" placeholder="Name">

<label>Current Handicap (optional)</label>
<input id="profileHandicap" type="number" step="0.1" placeholder="Example 12.4">

<p>This will be used for games, handicap, and stats.</p>

<button onclick="saveProfile()">Start Playing</button>
</section>

<!-- ================= RULES ================= -->

<section id="rules-screen" class="hidden">
<h3>Skins</h3>
<p>Wager per player. Ties carry. Birdie adds one wager. Eagle adds two wagers.</p>

<h3>Vegas</h3>
<p>Team game. Scores form numbers. Difference × wager per point.</p>

<h3>Nassau</h3>
<p>Team match: Front 9, Back 9, Total Round.</p>

<button onclick="goBack()">Back</button>
</section>

<!-- ================= GAME SELECT ================= -->

<section id="step-game" class="hidden">
<button onclick="selectGame('skins')">Skins</button>
<button onclick="selectGame('vegas')">Vegas</button>
<button onclick="selectGame('nassau')">Nassau</button>
<button onclick="goBack()">Back</button>
</section>

<!-- ================= PLAY STYLE ================= -->

<section id="step-style" class="hidden">

<p id="lockedNotice" class="hidden">
This game is played with two teams of 2
</p>

<label id="playStyleLabel">Play Style</label>
<select id="playStyle">
<option value="ffa">Free For All</option>
<option value="teams">Teams</option>
</select>

<label id="playerCountLabel">Number of Players</label>
<select id="playerCount">
<option>2</option>
<option>3</option>
<option>4</option>
</select>

<button onclick="nextTeams()">Next</button>
<button onclick="goBack()">Back</button>
</section>

<!-- ================= TEAMS ================= -->

<section id="step-teams" class="hidden">
<input id="teamAName" placeholder="Team 1 Name">
<input id="teamBName" placeholder="Team 2 Name">
<button onclick="nextPlayers()">Next</button>
<button onclick="goBack()">Back</button>
</section>

<!-- ================= PLAYERS ================= -->

<section id="step-players" class="hidden">

<h4 id="teamALabel">Team 1</h4>
<div id="teamAInputs"></div>

<h4 id="teamBLabel">Team 2</h4>
<div id="teamBInputs"></div>

<button onclick="nextSettings()">Next</button>
<button onclick="goBack()">Back</button>
</section>

<!-- ================= SETTINGS ================= -->

<section id="step-settings" class="hidden">

<div id="baseWagerWrapper" class="money-input">
<span>$</span>
<input id="baseWager" type="number" placeholder="0">
</div>

<p id="wagerLabel"></p>

<select id="holeLimit">
<option value="9">9 Holes</option>
<option value="18">18 Holes</option>
</select>

<div id="nassauWagers" class="hidden">

<div class="money-input">
<span>$</span>
<input id="frontWager" type="number" placeholder="0">
</div>

<div class="money-input">
<span>$</span>
<input id="backWager" type="number" placeholder="0">
</div>

<div class="money-input">
<span>$</span>
<input id="totalWager" type="number" placeholder="0">
</div>

<p>Nassau always plays 18 holes</p>
</div>

<button onclick="startRound()">Start</button>
<button onclick="goBack()">Back</button>
</section>

<!-- ================= GAME PLAY ================= -->

<section id="game-screen" class="hidden">

<h3 id="holeDisplay"></h3>
<h3 id="potDisplay"></h3>

<button onclick="undoHole()">⬅ Undo Previous Hole</button>
<button onclick="endRoundNow()">End Round</button>

<div id="skinsBox">
<div id="winnerButtons"></div>

<label><input type="checkbox" id="birdieToggle"> Birdie (+1)</label>
<label><input type="checkbox" id="eagleToggle"> Eagle (+2)</label>

<button id="tieBtn">Tie</button>
</div>

<div id="nassauBox" class="hidden">
<div id="nassauWinners"></div>
<button id="nassauTieBtn">Tie Hole</button>
</div>

<button id="sideBetBtn">Side Bet</button>

<div id="vegasBox" class="hidden">

<div id="teamAPlayers"></div>
<input id="a1" type="number" inputmode="numeric">
<input id="a2" type="number" inputmode="numeric">

<div id="teamBPlayers"></div>
<input id="b1" type="number" inputmode="numeric">
<input id="b2" type="number" inputmode="numeric">

<label>
<input type="checkbox" id="birdieFlip"> Birdie Flip
</label>

<button onclick="finishVegasHole()">Finish Hole</button>
</div>

<h3>Leaderboard</h3>
<div id="leaderboard"></div>

</section>

<!-- ================= ROUND TRACKING ================= -->

<section id="round-setup" class="hidden">

<h3>Start New Round</h3>

<label>Course Name</label>
<input id="courseName" type="text">

<label>Course Rating</label>
<input id="courseRating" type="number" step="0.1" inputmode="decimal">

<label>Slope Rating</label>
<input id="courseSlope" type="number" inputmode="numeric">

<label>Holes</label>
<select id="roundHoles">
<option value="9">9 Holes</option>
<option value="18">18 Holes</option>
</select>

<button onclick="startRoundTracking()">Start Round</button>
<button onclick="goBack()">Back</button>

</section>

<section id="round-play" class="hidden">

<h3 id="roundHoleDisplay"></h3>

<label>Par</label>
<select id="holePar">
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
<option value="6">6</option>
</select>

<label>Score</label>
<input id="holeScore" type="number" inputmode="numeric">

<h4 id="roundLiveStats"></h4>

<button onclick="undoRoundHole()">⬅ Undo Last Hole</button>
<button onclick="openScorecard()"> View Scorecard</button>
<button onclick="submitHoleScore()">Next Hole</button>

</section>

<!-- ================= MODALS ================= -->

<div id="leaderboardModal" class="modal hidden">
<div class="modal-box">
<h3>Round Results</h3>
<div id="leaderboardModalList"></div>
<button id="leaderboardFinishBtn">Finish Round</button>
</div>
</div>

<div id="scorecardModal" class="modal hidden">
<div class="modal-box">
<h3>Scorecard</h3>
<div id="scorecardTable"></div>
<button onclick="closeScorecard()">Close</button>
</div>
</div>

<div id="sideBetModal" class="modal hidden">
<div class="modal-box">

<h3>Side Bet</h3>

<div class="money-input">
<span>$</span>
<input id="sideAmount" type="number" placeholder="0">
</div>

<select id="sideMode">
<option value="player">Per Player</option>
<option value="team">Per Team</option>
</select>

<div id="sideWinners"></div>

<button onclick="sideBetModal.classList.add('hidden')">Cancel</button>

</div>
</div>

<script src="games/skins.js"></script>
<script src="games/vegas.js"></script>
<script src="games/nassau.js"></script>
<script src="games/sidebets.js"></script>
<script src="app.js"></script>

<script>
if ("serviceWorker" in navigator) {
navigator.serviceWorker.register("./service-worker.js");
}
</script>

</body>
</html>